# 这是一个实现中国象棋的项目
## 类关系简介
1. Game类，提供游戏接口，完成对局的运行及相关操作。
2. Board类，实现棋盘，承载双方棋子，为对局进行提供操作。
3. Piece类，抽象基类，代表棋子，作为对局行动的主体。
    | 类名   | 红方   | 黑方  |
    |:------:|:-----:|:-----:|
    |Pawn    |兵     |卒     |
    |Cannon  |炮     |砲     |
    |Chariot |车     |車     |
    |Horse   |马     |馬     |
    |Minister|相     |象     |
    |Mandarin|仕     |士     |
    |King    |帅     |将     |
4. 下面是UML类图
    ![ChineseChess.jpg](https://i.loli.net/2020/03/14/WyruEUsRtHK8An4.png)
## 类的使用
1. 本项目目标为实现中国象棋，引起各类的实现也仅为了完成这个游戏而已。由于象棋规则的固定性，很难再利用这些类做一些其他的工作，所以使用起来也就大同小异，相关操作也极其类似。
2. 本项目测试代码即为中国象棋游戏的实现，并且添加了菜单功能，但总体来说还是没有偏离中国象棋本身，所以核心仍然在对局上。
## 一些注意事项
1. 由于本项目无法做到鼠标交互，所以只能通过键盘输入进行选择和命令，这就不可避免地导致了输入流错误的可能性。本人尽力做到保证鲁棒性，但还是不敌EOF在有效字符输入之后的情况，这会导致其后字符无效，并且需要在下一行继续输入。其余可能产生的输入问题不再赘述，还望hack的时候下手能轻一点。~~虽然炸的不是我的电脑。~~
2. 由于本项目选材的局限性，所创建类的应用范围比较窄，类的设计上也有局限性。~~所以如果真的要hack可以调用类的公有接口成员。~~
3. 由于本项目需要实现彩色文本，所以就导致了会产生windows和linux两个版本。由于本项目是使用vscode进行开发，所以在windows平台上编码为GB2312以实现中文IO，但linux平台上默认编码为UTF-8，所以两个版本的编码各不相同，还请多加注意。在windows平台上使用cmake遇到了本人目前无法解决的问题(指多方百度无果)，所以需要亲手连接。各平台版本的运行方式请参见相应文件夹下的README。
4. 由于本项目涉及存档，但是多平台下创建文件夹需要对应头文件，并且操作不同且复杂，所以会将数据文件存在运行目录下。所以如果不想让文件夹被污染，建议在一个新建文件夹里运行。~~其实就是作者偷懒的锅。~~
5. 本项目设有彩蛋。部分彩蛋内容是在玩梗，所以发现疑似过激的言语时还请注意，因为这真的是在玩梗。
## 一些题外话(~~急的话现在就可以走了~~)
1. xxxx行，怎么想都觉得好多啊。
2. 其实上面那一条就是石乐志，大部分都是重复cv堆出来的。
3. 妄图添加自定义模式和更多彩蛋，但是时间关系没有完成。
4. 两个平台的彩色文本代码和选择的字符编码都不同，实在是搞人心态。
5. windows的cmake是真的无能为力，开始能跑，后面就疯狂抽风。
6. vscode令人又爱又恨。该香还得香。
7. 最开始是想做一个抽卡+养成+回合制的小游戏，但是过于沙雕被pass了。
8. 其实有的人可能已经发现我一直在模仿ilem教主的分点简介。
9. 磅15便士。
10. 完结撒花！
